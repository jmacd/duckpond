<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noyo Harbor Blue Economy</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
  {{ insert_from_path(path="/templates/page/page.html") }}
  
  <main>
    <div class="hero">
      <h1>Noyo Harbor Blue Economy</h1>
      <h2>Water Quality Monitoring Dashboard</h2>
    </div>
    
    <div id="map"></div>
    
    <div class="about-section">
      <h2>About This Project</h2>
      <p>
        The Noyo Harbor Blue Economy project monitors water quality at key locations 
        throughout Noyo Harbor in Fort Bragg, California. Real-time sensors measure:
      </p>
      <ul>
        <li><strong>Dissolved Oxygen (DO)</strong> - Critical for marine life health</li>
        <li><strong>Salinity</strong> - Indicates freshwater/seawater mixing</li>
        <li><strong>Temperature</strong> - Affects oxygen levels and species habitat</li>
      </ul>
      <p>
        Use the navigation on the left to explore data by parameter (comparing all sites) 
        or by site (viewing all parameters at one location).
      </p>
    </div>
  </main>
  
  <script type="module">
    import * as L from "https://cdn.jsdelivr.net/npm/leaflet@1.9.4/+esm";
    
    const latitude = 39.425200984011916;
    const longitude = -123.80366719309244;
    
    const map = L.map("map", { scrollWheelZoom: false })
      .setView([latitude, longitude], 16);
    
    L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);
    
    // Monitoring sites
    L.circle([39.42768783218275, -123.80584629151588], {radius: 20, color: '#667eea'})
      .bindPopup("<strong>Princess Seafood</strong>")
      .addTo(map);
    L.circle([39.42630383307301, -123.80507914592623], {radius: 20, color: '#667eea'})
      .bindPopup("<strong>The Wharf</strong>")
      .addTo(map);
    L.circle([39.42359794726219, -123.80380240755608], {radius: 20, color: '#667eea'})
      .bindPopup("<strong>Field Station</strong>")
      .addTo(map);
    L.circle([39.42398791346205, -123.80214663996874], {radius: 20, color: '#667eea'})
      .bindPopup("<strong>B-Dock</strong>")
      .addTo(map);
  </script>
</body>
</html>
