entries:
  - name: "BDock"
    factory: "sql-derived-series"
    config:
      patterns:
        vulink: "/hydrovu/devices/**/BDockVulink.series"
        at500: "/hydrovu/devices/**/BDockAT500.series"
      query: |
        SELECT * FROM vulink 
        NATURAL FULL OUTER JOIN at500 
        ORDER BY timestamp

  - name: "Silver"  
    factory: "sql-derived-series"
    config:
      patterns:
        vulink: "/hydrovu/devices/**/SilverVulink*.series"
        at500: "/hydrovu/devices/**/SilverAT500.series"
      query: |
        SELECT * FROM vulink
        NATURAL FULL OUTER JOIN at500
        ORDER BY timestamp

  - name: "Princess"
    factory: "sql-derived-series" 
    config:
      patterns:
        vulink: "/hydrovu/devices/**/PrincessVulink.series"
        at500: "/hydrovu/devices/**/PrincessAT500.series"
      query: |
        SELECT * FROM vulink 
        NATURAL FULL OUTER JOIN at500 
        ORDER BY timestamp

  # Temporal downsampling examples - create time-bucketed aggregations
  - name: "BDockDownsampled"
    factory: "temporal-reduce"
    config:
      source: "/test-locations/BDock"  # Reference to the sql-derived series above
      time_column: "timestamp"
      resolutions:
        - "1h"   # 1 hour buckets
        - "6h"   # 6 hour buckets
        - "1d"   # 1 day buckets
      aggregations:
        - type: "avg"
          columns: ["temperature", "conductivity", "ph"]
        - type: "min"
          columns: ["temperature"]
        - type: "max"
          columns: ["temperature", "conductivity"]
        - type: "count"
          columns: ["*"]

  - name: "SilverDownsampled"
    factory: "temporal-reduce"
    config:
      source: "/test-locations/Silver"
      time_column: "timestamp" 
      resolutions:
        - "2h"   # 2 hour buckets
        - "12h"  # 12 hour buckets
      aggregations:
        - type: "avg"
          columns: ["temperature", "conductivity"]
        - type: "sum"
          columns: ["flow_rate"]
        - type: "count"
          columns: ["*"]
